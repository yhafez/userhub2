{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","components/index.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","onChange","id","target","value","user","find","map","key","username","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","App","ReactDOM","render","document","getElementById","BASE","a","axios","get","data","userId","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","err","console","error","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding"],"mappings":"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","file":"static/js/main.aed0247f.chunk.js","sourcesContent":["// /src/components/Header.js\n\nimport React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport{ storeCurrentUser, clearCurrentUser } from '../auth';\n\nimport './Header.css';\n\nconst Header = ({ \n    currentUser,\n    setCurrentUser,\n    userList\n}) => {\n\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => setSelectedUser(userList[0]), [userList]);\n    \n    const handleSubmit = (event) => event.preventDefault();\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return(\n\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form\n            className=\"user-select\"\n            onSubmit={ handleSubmit } >\n                {\n                    currentUser\n                    ? \n                        <>\n                            <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                            <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n                            <button onClick={ handleUserLogout }>LOG OUT</button>\n                        </>\n                    : <>\n                        <select onChange={ handleSelectChange } >{\n                            userList.map(user => (\n                                <option key={ user.id } value={ user.id }>\n                                    { user.username }\n                                </option>\n                            ))\n                        }</select>\n                        <button onClick={ handleUserLogin }>LOG IN</button>\n                    </>\n                }\n            </form>\n        </header>\n    );\n}\n\nexport default Header;","// /src/auth/index.js\n\nexport function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n}\n\nexport function getCurrentUser() {\n    const user=JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n}\n\nexport function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n}\n\n","// /src/components/UserPosts.js\n\nimport React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser,\n    userPosts\n}) => {\n    return(\n        <div className=\"user-posts\">\n            <h2>Posts By { currentUser.username }</h2>\n            {userPosts.map(({id, title, body}) => (\n                <div key={ id } className=\"post\">\n                    <h3>{ title }</h3>\n                    <p>{ body }</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","// src/components/UserTodos.js\n\nimport React from 'react';\n\nimport './UserTodos.css'\n\nconst UserTodos = ({\n    currentUser,\n    userTodos\n}) => {\n\n    return(\n        <div className=\"user-todos\">\n            <h2>Todos By { currentUser.username }</h2>\n            {userTodos.map(({ id, title, completed}) => (\n                <div key={ id } className=\"todo\">\n                    <h3 style={{\n                        textDecoration: completed ? 'line-through' : 'none'\n                    }}>{ title }</h3>\n                </div>\n            ))}\n        </div>\n    );\n\n}\n\nexport default UserTodos;","// /src/components/index.js\n\nimport React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => (<div id='App'><h1>Hello, World</h1></div>);\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n\nexport { default as Header } from './Header';\nexport { default as UserPosts } from './UserPosts';\nexport { default as UserTodos } from './UserTodos'","// /src/api/index.js\n\n\nimport axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n\n    try{\n        const { data } = await axios.get(`${ BASE }/users`);\n        return data;\n    }\n    catch(err) {\n        throw err;\n    }\n\n}\n\nexport async function getPostsByUser(userId) {\n    \n    try{\n        const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n        return data\n    }\n    catch(err){\n        throw err;\n    }\n\n}\n\nexport async function getTodosByUser(userId) {\n    \n    try{\n        const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n        return data;\n    }\n    catch(err) {\n        throw err;\n    }\n\n}","// /src/index.js\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect\n} from 'react-router-dom';\n\nimport { Header, UserPosts, UserTodos } from './components';\nimport { getUsers, getPostsByUser, getTodosByUser } from './api';\nimport { getCurrentUser } from './auth';\n\n\nconst App = () => {\n\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser());\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n            .then(users => {\n                setUserList(users)\n            })\n            .catch(err => console.error(\"There's been an error getting and setting user list @ /src/index.js. Error: \", err));\n    }, []);\n\n    useEffect(() => {\n\n        if(!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        }\n    \n        getPostsByUser(currentUser.id)\n            .then(posts => setUserPosts(posts))\n            .catch(err => console.error(\"There's been an error getting and setting posts by user @ /src/index.js. Error: \", err));\n\n        getTodosByUser(currentUser.id)\n            .then(todos => setUserTodos(todos))\n            .catch(err => console.error(\"There's been an error getting and setting todos by user @ /src/index.js. Error: \", err));\n    }, [currentUser]);\n\n    return(\n        <Router>\n            <div id=\"App\">\n                <Header\n                userList={ userList }\n                currentUser={ currentUser }\n                setCurrentUser={ setCurrentUser } />\n                {\n                    currentUser\n                    ?\n                        <>\n                            <Switch>\n\n                                <Route path=\"/posts\">\n                                    <UserPosts\n                                        userPosts={ userPosts }\n                                        currentUser={ currentUser } />\n                                </Route>\n\n                                <Route path=\"/todos\">\n                                    <UserTodos \n                                        userTodos={ userTodos }\n                                        currentUser={ currentUser } />\n                                </Route>\n\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}> Welcome, { currentUser.username }</h2>\n                                </Route>\n\n                                <Redirect to=\"/\" />\n\n                            </Switch>\n                        </>\n                    :\n                        <>\n                            <Switch>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Please log in, above</h2>\n                                </Route>\n                            </Switch>\n                        </>\n                }\n            </div>\n        </Router>\n    );\n\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}