(this.webpackJsonpproject_16=this.webpackJsonpproject_16||[]).push([[0],{29:function(e,t,r){e.exports=r(60)},34:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r(0),c=r.n(a),u=r(12),s=r.n(u),o=r(11),l=r(1);r(34);var i=function(e){var t=e.currentUser,r=e.setCurrentUser,u=e.userList,s=Object(a.useState)(),l=Object(n.a)(s,2),i=l[0],m=l[1];Object(a.useEffect)((function(){return m(u[0])}),[u]);return c.a.createElement("header",null,c.a.createElement("h1",null,"Welcome to UserHub"),c.a.createElement("form",{className:"user-select",onSubmit:function(e){return e.preventDefault()}},t?c.a.createElement(c.a.Fragment,null,c.a.createElement(o.b,{to:"/posts",activeClassName:"current"},"POSTS"),c.a.createElement(o.b,{to:"/todos",activeClassName:"current"},"TODOS"),c.a.createElement("button",{onClick:function(e){m(u[0]),localStorage.removeItem("currentUser"),r(null)}},"LOG OUT")):c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{onChange:function(e){var t=e.target.value,r=u.find((function(e){return e.id==t}));m(r)}},u.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.username)}))),c.a.createElement("button",{onClick:function(e){var t;t=i,localStorage.setItem("currentUser",JSON.stringify(t)),r(i)}},"LOG IN"))))},m=(r(40),function(e){var t=e.currentUser,r=e.userPosts;return c.a.createElement("div",{className:"user-posts"},c.a.createElement("h2",null,"Posts By ",t.username),r.map((function(e){var t=e.id,r=e.title,n=e.body;return c.a.createElement("div",{key:t,className:"post"},c.a.createElement("h3",null,r),c.a.createElement("p",null,n))})))}),p=(r(41),function(e){var t=e.currentUser,r=e.userTodos;return c.a.createElement("div",{className:"user-todos"},c.a.createElement("h2",null,"Todos By ",t.username),r.map((function(e){var t=e.id,r=e.title,n=e.completed;return c.a.createElement("div",{key:t,className:"todo"},c.a.createElement("h3",{style:{textDecoration:n?"line-through":"none"}},r))})))}),d=function(){return c.a.createElement("div",{id:"App"},c.a.createElement("h1",null,"Hello, World"))};s.a.render(c.a.createElement(d,null),document.getElementById("root"));var f=r(9),E=r.n(f),h=r(13),v=r(14),b=r.n(v),g="https://jsonplace-univclone.herokuapp.com";function O(){return(O=Object(h.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g,"/users"));case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(){return(j=Object(h.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g,"/users/").concat(t,"/posts"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(){return(y=Object(h.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g,"/users/").concat(t,"/todos"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var S=function(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),r=t[0],u=t[1],s=Object(a.useState)(JSON.parse(localStorage.getItem("currentUser"))),d=Object(n.a)(s,2),f=d[0],E=d[1],h=Object(a.useState)([]),v=Object(n.a)(h,2),b=v[0],g=v[1],S=Object(a.useState)([]),x=Object(n.a)(S,2),U=x[0],k=x[1];return Object(a.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){u(e)})).catch((function(e){return console.error("There's been an error getting and setting user list @ /src/index.js. Error: ",e)}))}),[]),Object(a.useEffect)((function(){if(!f)return g([]),void k([]);(function(e){return j.apply(this,arguments)})(f.id).then((function(e){return g(e)})).catch((function(e){return console.error("There's been an error getting and setting posts by user @ /src/index.js. Error: ",e)})),function(e){return y.apply(this,arguments)}(f.id).then((function(e){return k(e)})).catch((function(e){return console.error("There's been an error getting and setting todos by user @ /src/index.js. Error: ",e)}))}),[f]),c.a.createElement(o.a,null,c.a.createElement("div",{id:"App"},c.a.createElement(i,{userList:r,currentUser:f,setCurrentUser:E}),f?c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/posts"},c.a.createElement(m,{userPosts:b,currentUser:f})),c.a.createElement(l.b,{path:"/todos"},c.a.createElement(p,{userTodos:U,currentUser:f})),c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}}," Welcome, ",f.username)),c.a.createElement(l.a,{to:"/"}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Please log in, above"))))))};s.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.aed0247f.chunk.js.map